<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pizarra Kanban</title>
  <link rel="stylesheet" href="cPanel.css" />
</head>
<body>
  <div class="app">
    <header>
      <h1>Pizarra Kanban ‚Äî Diagn√≥stico / Reparaci√≥n / Listo</h1>
      <div class="spacer"></div>
      <div class="toolbar">
        <select id="filterTipo"><option value="">Tipo: Todos</option></select>
        <select id="filterTurno">
          <option value="">Turno: 1 y 2</option>
          <option value="1">Turno 1</option>
          <option value="2">Turno 2</option>
        </select>
        <button id="btnExport" class="ghost">Exportar CSV</button>
        <button id="btnSettings" class="ghost" title="Ajustes">‚öôÔ∏è Ajustes</button>
      </div>
    </header>

    <main class="board" id="board">
      <section class="column" data-col="diagnostico">
        <h2>DIAGN√ìSTICO</h2>
        <div class="grid" id="col-diagnostico"></div>
      </section>
      <section class="column" data-col="reparacion">
        <h2>REPARACI√ìN</h2>
        <div class="grid" id="col-reparacion"></div>
      </section>
      <section class="column" data-col="listo">
        <h2>LISTO</h2>
        <div class="grid" id="col-listo"></div>
      </section>
    </main>

    <button class="fab" id="fab">+</button>
    <div class="archive-bar" id="archiveBar">üóÑÔ∏è Arrastra aqu√≠ para archivar</div>

    <!-- Editor de tarjeta -->
    <aside class="drawer" id="drawer">
      <header><h1>Editar tarjeta</h1></header>
      <div class="content">
        <div class="row">
          <div><label>N¬∞ OT</label><input id="f-ot" /></div>
          <div><label>Producto</label><input id="f-producto" list="datalistProductos" /><datalist id="datalistProductos"></datalist></div>
        </div>
        <div class="row">
          <div><label>Marca</label><input id="f-marca" /></div>
          <div><label>Modelo</label><input id="f-modelo" /></div>
        </div>
        <div class="row">
          <div><label>Cliente</label><input id="f-cliente" /></div>
          <div><label>Turno</label><select id="f-turno"><option value="1">1</option><option value="2">2</option></select></div>
        </div>
        <div><label>Descripci√≥n</label><textarea id="f-desc" rows="3"></textarea></div>
        <div class="row">
          <div><label>Fecha de ingreso</label><input id="f-ingreso" type="datetime-local" /></div>
          <div><label>Fecha l√≠mite</label><input id="f-limite" type="datetime-local" /></div>
        </div>
        <div class="row">
          <div><label>Tipo de tarea</label><select id="f-tipo"></select></div>
          <div><label>Color (opcional)</label><input id="f-color" type="color" /></div>
        </div>
        <div>
          <label>T√©cnicos (borde por color)</label>
          <div id="techList"></div>
          <button id="btnAddTech" class="ghost" type="button">+ Agregar t√©cnico</button>
        </div>
        <div class="row">
          <div><label>Columna</label>
            <select id="f-col">
              <option value="diagnostico">Diagn√≥stico</option>
              <option value="reparacion">Reparaci√≥n</option>
              <option value="listo">Listo</option>
            </select>
          </div>
          <div><label>Vista m√≥vil</label>
            <select id="f-compact"><option value="1">Compacta</option><option value="0">Completa</option></select>
          </div>
        </div>
      </div>
      <footer>
        <button id="btnDelete" class="ghost danger">Eliminar</button>
        <div class="spacer"></div>
        <button id="btnCancel" class="ghost">Cancelar</button>
        <button id="btnSave" class="primary">Guardar</button>
      </footer>
    </aside>

    <!-- Ajustes -->
    <aside class="drawer" id="settings">
      <header><h1>Ajustes</h1></header>
      <div class="content">
        <h3>Tipos de tarea (color por defecto)</h3>
        <div id="tipoColors"></div>
        <button id="btnAddTipo" class="ghost">+ Agregar tipo</button>

        <hr/>

        <h3>Tiempos</h3>
        <div class="row">
          <div><label>M√°x. horas presupuestar</label><input id="st-budgetMaxH" type="number" min="1" step="1" /></div>
          <div><label>Min. horas entrega</label><input id="st-deliveryMinH" type="number" min="0" step="1" /></div>
          <div><label>M√°x. horas entrega</label><input id="st-deliveryMaxH" type="number" min="1" step="1" /></div>
        </div>
        <div class="row">
          <div><label>Glow presupuesto (h antes)</label><input id="st-glowBudgetH" type="number" min="1" step="1" /></div>
          <div><label>Glow entrega (h antes)</label><input id="st-glowDeliveryH" type="number" min="1" step="1" /></div>
        </div>

        <hr/>
        <h3>T√©cnicos (paleta)</h3>
        <div id="settingsTech"></div>
        <button id="btnAddSettingsTech" class="ghost">+ Agregar t√©cnico</button>
      </div>
      <footer><div class="spacer"></div><button id="btnCloseSettings" class="ghost">Cerrar</button></footer>
    </aside>

    <!-- Visor m√≥vil -->
    <div class="mobile-viewer" id="mv"><div class="mobile-sheet" id="mvSheet"></div></div>
  </div>

  <script defer src="cPanel.js"></script>
</body>
</html>
